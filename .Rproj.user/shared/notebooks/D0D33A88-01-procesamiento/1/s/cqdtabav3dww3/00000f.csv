"0","data <- data %>%
  mutate(
    class_position = case_when(
      as.numeric(supervisa) == 1 & nedu == 4 ~ 1,  # expert managers
      as.numeric(supervisa) == 3 & nedu == 4 ~ 2,  # experts
      as.numeric(supervisa) == 1 & nedu < 4 ~ 3,   # supervisors
      as.numeric(supervisa) == 2 ~ 3,              # supervisors
      as.numeric(supervisa) == 3 & nedu < 4 ~ 4,  # non-managerial workers
      TRUE ~ NA_real_
    ),
    class_position = factor(
      class_position,
      levels = 1:4,
      labels = c(
        ""expert managers"",         # 1
        ""experts"",                 # 2
        ""supervisors"",             # 3
        ""non-managerial workers""   # 4
      )
    )
  ) %>%
  set_variable_labels(class_position = ""PosiciÃ³n de clase"")
"
"1","[1m[33mError[39m in `mutate()`:[22m
[38;5;250m[36mâ„¹[38;5;250m In argument: `class_position = case_when(...)`.[39m
[1mCaused by error in `case_when()`:[22m
[38;5;250m[33m![38;5;250m Failed to evaluate the left-hand side of formula 1.[39m
[1mCaused by error:[22m
[33m![39m objeto 'nedu' no encontrado
Backtrace:
[90m  1. [39m... %>% ...
[90m 11. [39m[1m[94mdplyr::case_when([39m[22m...[1m[94m)[39m[22m
[90m 12. [39mdplyr:::case_formula_evaluate(...)
[90m 14. [39m[1mrlang[22m::eval_tidy(pair$lhs, env = default_env)
"
